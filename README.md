

#statuscode-topology

> 缓存机器上的状态码信息Storm实时计算，公司给我的第一个Storm实时计算脚本练习课题。

##目的
将缓存机上的数据按照一定的格式计算出TOP N值。
出于保护公司数据目的，因此不会上传缓存数据，缓存数据格式  
> baidu.com@- all:2340:2000:300:10 2340:1000:2000:300:10 2XX:2340:2000:300:10

* 第一个数据是频道即域名
* 接下来的all表示该数据包含信息为缓存机的 (总量:命中量:未命中量:回源量)
* 接下来的200/2XX/3XX等等数据表示该数据的详细信息

这个脚本能做的就是将海量的状态码信息在Storm集群中进行实时计算，默认设置为2分钟计算一次，分别筛选出一个目录下面多个文件的一些TOPN情况：

* 所有文件ALL总量TOPN / HIT总量TOPN / MISS总量TOPN 
* 各个文件单独的总量TOPN / HIT总量TOPN / MISS总量TOPN 

##总结
第一个Storm脚本，写的还不算完美，但是能得到导师的认可感觉这今天没白费了！

